
# App entrypoint
GET     /                             io.cumulus.controllers.HomeController.index

# User management routes
POST    /api/users/login              io.cumulus.controllers.UserController.login
POST    /api/users/logout             io.cumulus.controllers.UserController.logout
POST    /api/users/signup             io.cumulus.controllers.UserController.signUp
GET     /api/users/me                 io.cumulus.controllers.UserController.me

# API - FS get/update routes
GET     /api/fs*path                  io.cumulus.controllers.FileSystemController.get(path: Path, contentLimit: Option[Int], contentOffset: Option[Int])
PUT     /api/fs*path                  io.cumulus.controllers.FileSystemController.create(path: Path)
POST    /api/fs*path                  io.cumulus.controllers.FileSystemController.update(path: Path)
DELETE  /api/fs*path                  io.cumulus.controllers.FileSystemController.delete(path: Path)

# API - Sharing manager (authenticated side)
GET     /api/sharings/fs*path         io.cumulus.controllers.SharingManagementController.list(path: Path)
GET     /api/sharings/:ref            io.cumulus.controllers.SharingManagementController.get(ref: String)
DELETE  /api/sharings/:ref            io.cumulus.controllers.SharingManagementController.delete(ref: Path)

# API- Search
GET     /api/search*path              io.cumulus.controllers.FileSystemController.search(path: Path, name: String, nodeType: Option[FsNodeType], `type`: Option[String], limit: Option[Int], offset: Option[Int])

# API - Upload and download routes
POST    /api/upload*path              io.cumulus.controllers.FileSystemController.upload(path: Path, cipher: Option[String], compression: Option[String])
GET     /api/download*path            io.cumulus.controllers.FileSystemController.download(path: Path, download: Option[Boolean])
GET     /api/thumbnail*path           io.cumulus.controllers.FileSystemController.downloadThumbnail(path: Path, download: Option[Boolean])

# API - Shared (visitor)
GET     /api/shared/fs*path           io.cumulus.controllers.SharingController.get(path: Path, reference, key)
GET     /api/shared/download*path     io.cumulus.controllers.SharingController.download(path: Path, reference, key, download: Option[Boolean])

# Shared (visitor) 'pretty' routes for root element (file)
GET     /shared/download/:ref/:name   io.cumulus.controllers.SharingController.downloadRoot(ref, name, key, download: Option[Boolean])

# Test routes
GET     /test                         io.cumulus.controllers.HomeController.test
GET     /test/login                   io.cumulus.controllers.HomeController.testLogin

# Front internationalization
GET     /messages.js                  io.cumulus.controllers.utils.Assets.messages

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file                 io.cumulus.controllers.utils.Assets.versioned(path = "/public", file: controllers.Assets.Asset)
